{"remainingRequest":"/Users/xinwis/Desktop/demo space/snail/snail-biz-web/src/main/webapp-src/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xinwis/Desktop/demo space/snail/snail-biz-web/src/main/webapp-src/src/components/page/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xinwis/Desktop/demo space/snail/snail-biz-web/src/main/webapp-src/src/components/page/Dashboard.vue","mtime":1567059951000},{"path":"/Users/xinwis/Desktop/demo space/snail/snail-biz-web/src/main/webapp-src/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xinwis/Desktop/demo space/snail/snail-biz-web/src/main/webapp-src/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xinwis/Desktop/demo space/snail/snail-biz-web/src/main/webapp-src/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Schart from 'vue-schart';\nimport bus from '../common/bus';\nexport default {\n    name: 'dashboard',\n    data() {\n        return {\n            name: localStorage.getItem('ms_username'),\n            todoList: [{\n                    title: '今天要修复100个bug',\n                    status: false,\n                },\n                {\n                    title: '今天要修复100个bug',\n                    status: false,\n                },\n                {\n                    title: '今天要写100行代码加几个bug吧',\n                    status: false,\n                }, {\n                    title: '今天要修复100个bug',\n                    status: false,\n                },\n                {\n                    title: '今天要修复100个bug',\n                    status: true,\n                },\n                {\n                    title: '今天要写100行代码加几个bug吧',\n                    status: true,\n                }\n            ],\n            data: [{\n                    name: '2018/09/04',\n                    value: 1083\n                },\n                {\n                    name: '2018/09/05',\n                    value: 941\n                },\n                {\n                    name: '2018/09/06',\n                    value: 1139\n                },\n                {\n                    name: '2018/09/07',\n                    value: 816\n                },\n                {\n                    name: '2018/09/08',\n                    value: 327\n                },\n                {\n                    name: '2018/09/09',\n                    value: 228\n                },\n                {\n                    name: '2018/09/10',\n                    value: 1065\n                }\n            ],\n            options: {\n                title: '最近七天每天的用户访问量',\n                showValue: false,\n                fillColor: 'rgb(45, 140, 240)',\n                bottomPadding: 30,\n                topPadding: 30\n            },\n            options2: {\n                title: '最近七天用户访问趋势',\n                fillColor: '#FC6FA1',\n                axisColor: '#008ACD',\n                contentColor: '#EEEEEE',\n                bgColor: '#F5F8FD',\n                bottomPadding: 30,\n                topPadding: 30\n            }\n        }\n    },\n    components: {\n        Schart\n    },\n    computed: {\n        role() {\n            return this.name === 'admin' ? '超级管理员' : '普通用户';\n        }\n    },\n    created(){\n        this.handleListener();\n        this.changeDate();\n    },\n    activated(){\n        this.handleListener();\n    },\n    deactivated(){\n        window.removeEventListener('resize', this.renderChart);\n        bus.$off('collapse', this.handleBus);\n    },\n    methods: {\n        changeDate(){\n            const now = new Date().getTime();\n            this.data.forEach((item, index) => {\n                const date = new Date(now - (6 - index) * 86400000);\n                item.name = `${date.getFullYear()}/${date.getMonth()+1}/${date.getDate()}`\n            })\n        },\n        handleListener(){\n            bus.$on('collapse', this.handleBus);\n            // 调用renderChart方法对图表进行重新渲染\n            window.addEventListener('resize', this.renderChart)\n        },\n        handleBus(msg){\n            setTimeout(() => {\n                this.renderChart()\n            }, 300);\n        },\n        renderChart(){\n            this.$refs.bar.renderChart();\n            this.$refs.line.renderChart();\n        }\n    }\n}\n\n",null]}